(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"04b7":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("q-page",{staticClass:"constrain q-pa-md"},[o("div",{staticClass:"row q-col-gutter-lg"},[o("div",{staticClass:"col-12 col-sm-8"},[!t.loadingPosts&&t.posts.length?t._l(t.posts,(function(e,n){return o("div",{key:e.id},[o("q-card",{staticClass:"card-post q-mb-md",attrs:{bordered:"",flat:""}},[o("q-item",[o("q-item-section",{attrs:{avatar:""}},[o("q-avatar",[o("img",{attrs:{src:e.user.photo_url}})])],1),o("q-item-section",[o("q-item-label",{staticClass:"text-bold"}),o("q-item-label",{attrs:{caption:""}},[t._v("\n                      "+t._s(e.user.name)+"\n                    ")]),o("q-item-label",{attrs:{caption:""}},[t._v("\n                      "+t._s(e.location)+"\n                    ")])],1),o("q-item-section",{on:{click:function(o){return t.follow(e,e.user.id)}}},[o("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{dense:"",clickable:"",active:"active","active-class":"text-blue"}},[o("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.$auth.check()&&t.$auth.user().id!==e.user.id,expression:"$auth.check() && $auth.user().id !== post.user.id"}],attrs:{name:e.is_user_following?"eva-person-add":"eva-person-add-outline",color:"blue",size:"18px",rounded:"",dense:"",padding:"xs",flat:""}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.$auth.check()&&t.$auth.user().id!==e.user.id,expression:"$auth.check() && $auth.user().id !== post.user.id"}]},[t._v("\n                        "+t._s(!0===e.is_user_following?"following":"follow")+"\n                      ")]),o("q-space"),o("q-icon",{attrs:{name:0===e.user.follower_count?"eva-people-outline":"eva-people",color:"blue",size:"18px",rounded:"",dense:"",padding:"xs",flat:""}}),t._v("\n                      "+t._s(0===e.user.follower_count?"":e.user.follower_count)+"\n\n                    ")],1)],1)],1),o("q-separator"),[o("v-lazy-image",{attrs:{src:e.imageUrl,"src-placeholder":"https://cdn-images-1.medium.com/max/80/1*xjGrvQSXvj72W4zD6IWzfg.jpeg"}})],o("q-card-section",[o("q-item-section",[o("q-item-label",{attrs:{caption:""}},[o("q-item",[o("q-item-section",[o("div",{staticClass:"text-black "},[t._v(t._s(e.caption)+"\n                          "),o("span",{ref:"postTimer",refInFor:!0,staticClass:"text-caption text-grey "},[t._v("\n                            "+t._s(e.created_dates.created_at_human)+"\n                          ")])])]),o("q-space"),o("q-icon",{attrs:{name:e.is_liked?"eva-heart":"eva-heart-outline",color:e.is_liked?"red":"black",size:"20px",rounded:"",dense:"",padding:"xs",flat:""},on:{click:function(o){return t.submitLike(e)}}}),t._v("\n                        "+t._s(0===e.likes_count?"":e.likes_count)+"\n                        ")],1),o("q-input",{directives:[{name:"show",rawName:"v-show",value:t.$auth.check(),expression:"$auth.check()"}],staticClass:"col col-sm-6",attrs:{label:"Add comment",dense:"",icon:"eva-message-circle-outline","options-dens":""},on:{focusin:t.showTypingBubble,focusout:t.hideTypingBubble,keydown:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:(o.preventDefault(),t.addComment(t.commentBox[n],e))},keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.commentBox[n]=""}},scopedSlots:t._u([{key:"before",fn:function(){return[o("q-avatar",[o("img",{attrs:{src:t.$auth.user()?t.$auth.user().photo_url:"favicon.ico"}})])]},proxy:!0},{key:"after",fn:function(){return[o("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.sendButton,expression:"sendButton"}],attrs:{round:"",dense:"",flat:"",icon:"send"},on:{click:function(o){return o.preventDefault(),t.addComment(t.commentBox[n],e)}}})]},proxy:!0}],null,!0),model:{value:t.commentBox[n],callback:function(e){t.$set(t.commentBox,n,e)},expression:"commentBox[index]"}},[o("q-spinner-comment",{directives:[{name:"show",rawName:"v-show",value:t.showBubble,expression:"showBubble"}]})],1)],1)],1),o("q-list",{staticClass:"rounded-borders",attrs:{bordered:""}},[o("q-expansion-item",{directives:[{name:"show",rawName:"v-show",value:e.comments_count>0,expression:"post.comments_count > 0"}],attrs:{"expand-separator":"",icon:"eva-message-circle-outline",caption:"latest : "+e.new_comment,label:e.comments_count+" comments","default-closed":"",flat:""}},[o("AllPostComments",{attrs:{post:e}})],1)],1)],1)],2)],1)})):t.loadingPosts||t.posts.length?[o("div",{staticClass:"q-pa-md"},[o("q-card",[o("q-item",[o("q-item-section",{attrs:{avatar:""}},[o("q-skeleton",{attrs:{type:"QAvatar",animation:"fade",size:"40"}})],1),o("q-item-section",[o("q-item-label",[o("q-skeleton",{attrs:{type:"text"}})],1),o("q-item-label",{attrs:{caption:""}},[o("q-skeleton",{attrs:{type:"text"}})],1)],1)],1),o("q-skeleton",{attrs:{height:"200px",square:""}}),o("q-card-actions",{staticClass:"q-gutter-md",attrs:{align:"right"}},[o("q-skeleton",{attrs:{type:"QBtn"}}),o("q-skeleton",{attrs:{type:"QBtn"}})],1)],1)],1)]:[o("h5",{staticClass:"text-center text-grey"},[t._v("\n              No POSTS HERE\n            ")])]],2),o("div",{staticClass:"col-4 large-screen-only"},[o("q-item-section",{staticClass:"fixed"},[o("q-item",[o("q-btn",{attrs:{rounded:"",flat:"",to:"/account/home"}},[o("q-avatar",{attrs:{size:"48px"}},[o("img",{attrs:{src:this.$auth.user()?this.$auth.user().photo_url:"favicon.ico",alt:"profile image"}})])],1),o("q-item-section",{staticClass:"text-bold"},[t._v(t._s(this.$auth.user()?this.$auth.user().name:"Please Login")+"\n              ")])],1),this.$auth.check()?o("q-item",[o("q-item-section",[o("q-item-label",{staticClass:"text-overline text-gray q-pa-xs",attrs:{caption:""}},[t._v("\n                  "+t._s(this.$auth.user()?this.$auth.user().formatted_address:"Please Login")+"\n                ")]),o("q-item-label",{staticClass:"text-overline text-orange-9 q-pa-xs",attrs:{caption:""}},[t._v("\n                  About me\n                ")]),o("q-item-label",{staticClass:"q-pa-xs",attrs:{caption:""}},[t._v("\n                  "+t._s(this.$auth.user()?this.$auth.user().about:"")+"\n                ")]),o("q-item-label",{staticClass:"text-teal-9 q-pa-xs",attrs:{caption:""}},[t._v("\n                  "+t._s(this.$auth.user()?this.$auth.user().tagline:"")+"\n                ")]),o("q-item-label",{staticClass:"text-blue-9 q-pa-xs",attrs:{caption:""}},[t._v("\n                  Followers : "+t._s(this.$auth.user()?this.$auth.user().follower_count:"")+"\n                ")]),o("q-item-label",{staticClass:"text-blue-9 q-pa-xs",attrs:{caption:""}},[t._v("\n                  Following : "+t._s(this.$auth.user()?this.$auth.user().following_count:"")+"\n                ")]),o("q-item-label",{staticClass:"text-blue-9 q-pa-xs",attrs:{caption:""}},[t._v("\n                   "+t._s(this.$auth.user().available_to_hire?"Available to hire":"Not Looking")+"\n                ")]),o("q-item-label",{staticClass:"text-blue-9 q-pa-xs",attrs:{caption:""}},[t._v("\n                  Posts : "+t._s(this.$auth.user()?this.$auth.user().post_count:"")+"\n                ")])],1)],1):t._e()],1)],1)])]),o("infinite-loading",{attrs:{spinner:"bubbles"},on:{infinite:t.infiniteHandler}},[o("div",{attrs:{slot:"no-more"},slot:"no-more"},[o("h5",{staticClass:"text-center text-grey"},[t._v("\n          You are all caught up !\n          "+t._s(t.tada)+"\n        ")])]),o("div",{attrs:{slot:"no-results"},slot:"no-results"},[t._v("No POSTS HERE : Create your First Post! ")])])],1)},a=[],s=(o("99af"),o("c975"),o("d81d"),o("26e9"),o("fb6a"),o("b0c0"),o("ac1f"),o("841c"),o("ded3")),i=o.n(s),c=o("448a"),r=o.n(c),l=o("b178"),u=o("bc3a"),m=o.n(u),d=o("5638"),p=o("b047"),h=o("e166"),f=o.n(h),v=o("8dc2"),g=o("2f62"),_=o("2b0e"),b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("q-card",{on:{click:t.showComments}},[o("q-btn",{attrs:{label:"TEST BUTTON",icon:"eva-home"}}),t._l(t.post.comments,(function(e,n){return o("q-card-section",{key:e.id,on:{click:function(e){t.emoShow=!1}}},[[o("div",{staticClass:"q-pa-md"},[o("div",{staticClass:"cursor-pointer"},[o("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.activateEditComment(e),expression:"activateEditComment(comment)"}],attrs:{name:"edit",right:""}}),o("q-popup-edit",{attrs:{validate:function(t){return t.length>5}},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.initialValue,s=n.value,i=n.emitValue,c=n.validate,r=n.set,l=n.cancel;return[o("q-input",{attrs:{autofocus:"",dense:"",value:e.comment,hint:"Edit this Comment",rules:[function(t){return c(s)||"More than "+t.length+" chars required"}]},on:{input:i,keydown:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:(o.preventDefault(),t.editComment(e.comment))}},scopedSlots:t._u([{key:"after",fn:function(){return[o("q-btn",{attrs:{dense:"",flat:"",icon:"send"},on:{click:[function(o){return t.editComment(e.comment)},function(t){return t.stopPropagation(),r(t)}]}}),o("q-btn",{attrs:{flat:"",dense:"",color:"negative",icon:"cancel"},on:{click:function(t){return t.stopPropagation(),l(t)}}}),o("q-btn",{attrs:{flat:"",dense:"",color:"positive",icon:"check_circle",disable:!1===c(s)||a===s},on:{click:[function(t){return t.stopPropagation(),r(t)},function(o){return t.editComment(e.comment)}]}})]},proxy:!0}],null,!0)})]}}],null,!0),model:{value:e.comment,callback:function(o){t.$set(e,"comment",o)},expression:"comment.comment"}})],1)])],o("q-item",[o("q-fab",{attrs:{label:"","label-position":"top","external-label":"",color:"transparent",icon:"keyboard_arrow_right",direction:"right","text-color":"black",padding:"xs",dense:"",flat:""}},[o("q-fab-action",{attrs:{icon:t.reactionEmoji("thumbsup"),"external-label":"","label-position":"top","text-color":"red",label:e.reaction_count[1]>0?e.reaction_count[1]:"",padding:"xs",dense:"",flat:""},on:{click:function(o){return t.reactComment("Like",e,t.post)}}}),o("q-fab-action",{attrs:{icon:t.reactionEmoji("thumbsdown"),"external-label":"","label-position":"top","text-color":"black",label:e.reaction_count[2]>0?e.reaction_count[2]:"",padding:"xs",dense:"",flat:""},on:{click:function(o){return t.reactComment("DisLike",e,t.post)}}}),o("q-fab-action",{attrs:{icon:t.reactionEmoji("smiley_cat"),"external-label":"","label-position":"top","text-color":"black",label:e.reaction_count[5]>0?e.reaction_count[5]:"",padding:"xs",dense:"",flat:""},on:{click:function(o){return t.reactComment("Happy",e,t.post)}}}),o("q-fab-action",{attrs:{icon:t.reactionEmoji("rage"),"external-label":"","label-position":"top","text-color":"amber",label:e.reaction_count[6]>0?e.reaction_count[6]:"",padding:"xs",dense:"",flat:""},on:{click:function(o){return t.reactComment("DisHappy",e,t.post)}}}),o("q-fab-action",{attrs:{icon:t.reactionEmoji("shrug"),"external-label":"","label-position":"top","text-color":"blue",label:e.reaction_count[7]>0?e.reaction_count[7]:"",padding:"xs",dense:"",flat:""},on:{click:function(o){return t.reactComment("Surprise",e,t.post)}}}),o("q-fab-action",{attrs:{icon:t.reactionEmoji("shocked_face_with_exploding_head"),"external-label":"","label-position":"top","text-color":"black",label:e.reaction_count[9]>0?e.reaction_count[9]:"",padding:"xs",dense:"",flat:""},on:{click:function(o){return t.reactComment("Smile",e,t.post)}}})],1)],1),o("q-chat-message",{attrs:{name:e.commenter.name,avatar:e.commenter.photo_url,position:"up",text:[e.comment],size:"",stamp:e.created_dates.created_at_human,"text-color":"black","bg-color":"blue-grey-1",dense:""},on:{click:t.switchInput}}),o("q-input",{directives:[{name:"show",rawName:"v-show",value:t.activeInput,expression:"activeInput"}],staticClass:"col col-sm-6",attrs:{"switch-toggle-side":"","dense-toggle":"","header-inset-level":1,"content-inset-level":2,label:"...whats your opinion",dense:"",icon:"eva-message-circle-outline","options-dens":""},on:{keydown:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:(o.preventDefault(),t.replyComment(t.replyBox[n],e,t.post))},keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.replyBox[n]=""}},scopedSlots:t._u([{key:"before",fn:function(){return[o("q-avatar",[o("img",{attrs:{src:t.$auth.user()?t.$auth.user().photo_url:"https://cdn.quasar.dev/img/avatar5.jpg"}})])]},proxy:!0},{key:"after",fn:function(){return[o("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"send"},on:{click:function(o){return o.preventDefault(),t.replyComment(t.replyBox[n],e,t.post)}}})]},proxy:!0}],null,!0),model:{value:t.replyBox[n],callback:function(e){t.$set(t.replyBox,n,e)},expression:"replyBox[index]"}}),o("div",{staticClass:"row justify-center q-ma-md"}),o("q-expansion-item",{directives:[{name:"show",rawName:"v-show",value:e.childComments.length>0,expression:"comment.childComments.length > 0"}],attrs:{"switch-toggle-side":"","dense-toggle":"","header-inset-level":1,"content-inset-level":2,"expand-separator":"",icon:"eva-message-circle",label:"All reactions",caption:e.childComments.length+" reactions","default-closed":"","bg-color":"blue-grey-12"}},t._l(e.childComments,(function(n,a){return e.childComments.length>0?o("q-chat-message",{key:n.id,attrs:{name:n.commenter.name,avatar:n.commenter.photo_url,position:"up",text:[n.comment],stamp:t._f("niceDate")(n.created_at),"text-color":"dark-blue","bg-color":"amber-1",dense:"",label:"",sent:""}}):t._e()})),1)],2)}))],2)],1)},k=[],w=(o("4160"),o("4fad"),o("159b"),o("278c")),x=o.n(w),y={name:"AllPostComments",props:["post","viewComments"],components:{InfiniteLoading:f.a},data:function(){return{imageSrc:this.$auth.user()?this.$auth.user().photo_url:"favicon.ico",posts:[],commentBox:[],replyBox:[],loadingPosts:!1,totalLikes:"",isLiked:!1,reactionType:"eva-heart-outline",cars:[],activeInput:!1,activateAddComment:!1,page:1,postReacting:{},showBubble:!1,sendButton:!1}},methods:{showComments:function(){console.log("IS THIS WORKING"),console.log(this.post)},getComments:function(t){var e=this;this.loadingPosts=!0;var n=10,a=this.$auth.check()?this.$auth.user().id:1,s="".concat("https://atemkeng.com/api","/posts/").concat(this.post.id,"?user_id=").concat(a,"&page=").concat(this.page,"&perPage=").concat(n);console.log(t),m.a.get(s).then((function(n){var a=n.data;if(a.data.length){var s;console.log(a),e.loadingPosts=!1,e.page+=1,(s=e.posts).push.apply(s,r()(a.data)),t.loaded()}else{t.complete(),e.loadingPosts=!1;var i=o("9c1c");e.tada=i.get("tada")}})).catch((function(t){console.log(t),e.$q.dialog({title:"Error",message:"Oops something went wrong, pls contact the Admin"}),e.loadingPosts=!1}))},reactComment:function(t,e,o){var n=this;if(!this.$auth.check())return this.$q.dialog({message:"You need to Login Before you can Like"}),this.$router.push("/login"),void console.log({Error:"You need to log in to react to a post"});var a=this.$auth.user().id,s="https://atemkeng.com/api/comments/comment/react/"+e.id,i={user_id:a,type:t,post_id:o.id};m.a.post(s,i).then((function(t){a===t.data.user_id&&Object.entries(n.posts).forEach((function(e){var o=x()(e,2),n=(o[0],o[1]);if(n.id===t.data.post_id)for(var a=0;a<n.comments.length;a++)n.comments[a].id===t.data.comment_id&&(n.comments[a].reaction_count=t.data.reaction_count)}))})).catch((function(t){console.log(t)}))},showTypingBubble:function(){this.showBubble=!0,this.sendButton=!0},hideTypingBubble:function(){this.showBubble=!1},showSend:function(){this.sendButton=!0},replyComment:function(t,e,o){var n=this;if(!this.$auth.check())return this.$q.dialog({message:"You need to Login Before you can Like"}),this.$router.push("/login"),void console.log({Error:"You need to log in to react to a post"});var a="https://atemkeng.com/api/comments/comment/"+e.id,s={comment:t};m.a.post(a,s).then((function(t){var a=n.posts.indexOf(o),s=n.posts[a],i=n.posts[a].comments.indexOf(e),c={comment:t.data.data.comment,commenter:{name:t.data.data.commenter["name"],photo_url:n.$auth.user().photo_url},childComments:{},parent:t.data.data.parent,reaction_count:t.data.data.reaction_count,reactions:t.data.data.reactions,updated_dates:t.data.data.updated_dates,created_dates:t.data.data.created_dates};s.comments[i].childComments.unshift(c)})).catch((function(t){console.log(t)})),this.replyBox=[]},switchInput:function(){return this.activeInput=!this.activeInput},activateParentComment:function(){return this.activateAddComment=!this.activateAddComment},activateEditComment:function(t){return!0},editComment:function(t){this.set=!0},reactionEmoji:function(t){var e=o("9c1c");return e.get(t)},liveReply:function(t){JSON.stringify(t);var e=parseInt(t.comment.commenter.id),o=parseInt(this.$auth.user().id),n=this.posts[t.position],a={id:t.comment.id,comment:t.comment.comment,commenter:{name:t.comment.commenter.name,photo_url:t.comment.commenter.avatar},childComments:{},parent:{},reaction_count:"",reactions:"",updated_dates:t.updated_dates,created_dates:t.created_dates};o!==e&&(n.comments.unshift(a),n.comments_count=t.comments_count,this.posts[t.position].new_comment=t.comment.comment);var s="".concat(t.comment.commenter.name," says: ").concat(t.comment.comment);o===e&&(s="Your Comment has been added");var i={message:s,avatar:t.comment.commenter.avatar,author:t.author,userId:o,self:this};notification(i)},liveReaction:function(t){JSON.stringify(t);var e=this.posts[t.post.position],o=parseInt(this.$auth.user().id);if(t.post.reacter.id!==o&&(e.likes_count=t.post.likes.likes_count),t.post.is_liked){var n="".concat(t.post.reacter.name," Likes Your Post");t.post.reacter.id===o&&(n="I like I like !!");var a={message:n,avatar:t.post.reacter.avatar,author:t.post.author,userId:o,self:this};notification(a)}},pusherData:function(){var t=new Pusher("8643c99a8b00ff38c513",{cluster:"eu"}),e=this,o=t.subscribe("reply-channel");o.bind("App\\Events\\ChildCommentCreatedEvent",(function(t){console.log(t),e.liveReply(t)}));var n=t.subscribe("reaction-channel-comment");n.bind("App\\Events\\CommentReactionEvent",(function(t){console.log(t),e.liveReaction(t)}))},pushEcho:function(){window.Echo=new d["a"]({broadcaster:"pusher",key:"local",cluster:"local",forceTLS:!1,wsHost:window.location.hostname,wsPort:6001,disableStats:!0});var t=this,e=window.Echo.channel("reply-channel");e.listen(".App\\Events\\ChildCommentCreatedEvent",(function(e){t.liveReply(e)}));var o=window.Echo.channel("reaction-channel-comment");o.listen(".App\\Events\\CommentReactionEvent",(function(e){t.liveReaction(e)}))}},mounted:function(){this.pusherData(),this.pusherData()}},q=y,C=o("2877"),$=Object(C["a"])(q,b,k,!1,null,"6ebd2f6b",null),E=$.exports;function B(t){t.author===t.userId&&t.self.$q.notify({message:t.message,color:"positive",progress:!0,count:1,avatar:t.avatar,actions:[{label:"Dismis",color:"white",handler:function(){}}]})}_["default"].use(v["VLazyImagePlugin"]);var P={name:"Page",props:["post"],components:{AllPostComments:E,Picker:p["Picker"],VLazyImagePlugin:v["VLazyImagePlugin"],InfiniteLoading:f.a},data:function(){return{imageSrc:this.$auth.user()?this.$auth.user().photo_url:"favicon.ico",posts:[],commentBox:[],replyBox:[],loadingPosts:!1,totalLikes:"",isLiked:!1,reactionType:"eva-heart-outline",cars:[],activeInput:!1,activateAddComment:!1,page:1,tada:"",postReacting:{},showBubble:!1,sendButton:!1}},filters:{niceDate:function(t){return l["o"].formatDate(t,"MMMM D h:mmA")},reverse:function(t){return t.slice().reverse()}},methods:{infiniteHandler:function(t){var e=this;this.loadingPosts=!0;var n=10,a=this.$auth.check()?this.$auth.user().id:1,s="".concat("https://atemkeng.com/api","/posts?user_id=").concat(a,"&page=").concat(this.page,"&perPage=").concat(n);m.a.get(s).then((function(n){var a=n.data;if(a.data.length){var s;e.loadingPosts=!1,e.page+=1,(s=e.posts).push.apply(s,r()(a.data)),t.loaded()}else{t.complete(),e.loadingPosts=!1;var i=o("9c1c");e.tada=i.get("tada")}})).catch((function(t){console.log(t),e.$q.dialog({title:"Error",message:"Oops something went wrong, pls contact the Admin"}),e.loadingPosts=!1}))},reactionEmoji:function(t){var e=o("9c1c");return e.get(t)},submitLike:function(t){var e=this;if(this.reactedPost(t),!this.$auth.check())return this.$q.dialog({message:"You need to Login Before you can Like"}),this.$router.push("/login"),void console.log({Error:"You need to log in to react to a post"});var o=this.$auth.user().id,n="https://atemkeng.com/api/posts/like/"+t.id,a={user_id:o,type:"Like",position:this.posts.indexOf(t)};m.a.post(n,a).then((function(o){var n=e.posts.indexOf(t),s=o.data.data.reaction_type;s===a.type?(e.posts[n].is_liked=!0,e.posts[n].likes_count=o.data.data.likes_count):(e.posts[n].is_liked=!1,e.posts[n].likes_count=o.data.data.likes_count),e.posts[n].loveReactant.likes_count=o.data.likes_count})).catch((function(t){console.log(t)}))},showTypingBubble:function(){this.showBubble=!0,this.sendButton=!0},hideTypingBubble:function(){this.showBubble=!1},showSend:function(){this.sendButton=!0},addComment:function(t,e){var o=this;if(this.showBubble=!1,this.sendButton=!1,!this.$auth.check())return this.$q.dialog({message:"You need to Login Before you can Like"}),this.$router.push("/login"),void console.log({Error:"You need to log in to react to a post"});var n=this.$auth.user().id,a="https://atemkeng.com/api/posts/comment/"+e.id,s={user_id:n,comment:t,post:e.id,position:this.posts.indexOf(e)};m.a.post(a,s).then((function(t){var e=s.position,n=o.posts[e];n.comments_count=t.data.data["comment_count"],n.new_comment=t.data.data.comment["comment"];var a={id:"",comment:t.data.data.comment["comment"],commenter:{name:t.data.data.comment.commenter["name"],photo_url:o.$auth.user().photo_url},childComments:{},parent:{},reaction_count:"",reactions:"",updated_dates:t.data.data.updated_dates,created_dates:t.data.data.created_dates};n.comments.unshift(a),o.commentBox=[]})).catch((function(t){console.log(t)})),this.commentBox=[]},follow:function(t,e){var o=this,n=p["emojiIndex"].search("smile").map((function(t){return t.native}));if(!this.$auth.check())return this.$q.dialog({message:"You need to Login Before you can Follow"}),void this.$router.push("/login");var a=this.$auth.user().id;if(a!==e){var s="https://atemkeng.com/api/user/follow/"+e,i={author_id:e,position:this.posts.indexOf(t)};m.a.post(s,i).then((function(e){t.is_user_following=e.data.is_user_following,t.user.follower_count=e.data.follower_count,o.$store.commit("auth/setUserFollowingCount",e.data.user_following_count)})).catch((function(t){console.log(t)}))}else this.$q.dialog({message:"Hmmm! Trying to follow the man in the mirror ? We admire the Self Love, but its recommended to follow someone else"+n})},reactedPost:function(t){this.postReacting=t},liveComment:function(t){JSON.stringify(t);var e=parseInt(t.comment.commenter.id),o=parseInt(this.$auth.user().id),n=this.posts[t.position],a={id:t.comment.id,comment:t.comment.comment,commenter:{name:t.comment.commenter.name,photo_url:t.comment.commenter.avatar},childComments:{},parent:{},reaction_count:"",reactions:"",updated_dates:t.updated_dates,created_dates:t.created_dates};o!==e&&(n.comments.unshift(a),n.comments_count=t.comments_count,this.posts[t.position].new_comment=t.comment.comment);var s="".concat(t.comment.commenter.name," says: ").concat(t.comment.comment);o===e&&(s="Your Comment has been added");var i={message:s,avatar:t.comment.commenter.avatar,author:t.author,userId:o,self:this};B(i)},liveLike:function(t){JSON.stringify(t);var e=this.posts[t.post.position],o=parseInt(this.$auth.user().id);if(t.post.reacter.id!==o&&(e.likes_count=t.post.likes.likes_count),t.post.is_liked){var n="".concat(t.post.reacter.name," Likes Your Post");t.post.reacter.id===o&&(n="I like I like !!");var a={message:n,avatar:t.post.reacter.avatar,author:t.post.author,userId:o,self:this};B(a)}},liveFollow:function(t){JSON.stringify(t);var e=parseInt(this.$auth.user().id),o=t.author.id,n=this.posts[t.position];if(n.user.follower_count=t.author.follower_count,e===o&&this.$store.commit("auth/setUserFollowerCount",t.author.follower_count),t.is_user_following){var a={message:"New Follower :  ".concat(t.user.name," "),avatar:t.user.avatar,author:o,userId:e,self:this};B(a)}},livePost:function(t){JSON.stringify(t);var e=this.$auth.user().id,o=t.post.user,n=t.post.user.id;if(e!==n){this.posts.unshift(t.post);var a={message:"New Post from :  ".concat(o.name," "),avatar:o.photo_url,author:n,userId:e,self:this};this.$q.notify({message:a.message,color:"positive",progress:!0,count:1,avatar:a.avatar,actions:[{label:"Dismis",color:"white",handler:function(){}}]}),B(a)}},pusherData:function(){var t=new Pusher("8643c99a8b00ff38c513",{cluster:"eu"}),e=this,o=t.subscribe("comment-channel");o.bind("App\\Events\\CommentCreatedEvent",(function(t){console.log(t),e.liveComment(t)}));var n=t.subscribe("like-channel-post");n.bind("App\\Events\\LikeCreatedEvent",(function(t){console.log(t),e.liveLike(t)}));var a=t.subscribe("follow-channel");a.bind("App\\Events\\FollowCreatedEvent",(function(t){e.liveFollow(t)}));var s=t.subscribe("post-channel");s.bind("App\\Events\\PostCreatedEvent",(function(t){e.livePost(t)}))},pushEcho:function(){window.Echo=new d["a"]({broadcaster:"pusher",key:"local",cluster:"local",forceTLS:!1,wsHost:window.location.hostname,wsPort:6001,disableStats:!0});var t=this,e=window.Echo.channel("comment-channel");e.listen(".App\\Events\\CommentCreatedEvent",(function(e){t.liveComment(e)}));var o=window.Echo.channel("like-channel-post");o.listen(".App\\Events\\LikeCreatedEvent",(function(e){t.liveLike(e)}));var n=window.Echo.channel("follow-channel");n.listen(".App\\Events\\FollowCreatedEvent",(function(e){t.liveFollow(e)}));var a=window.Echo.channel("post-channel");a.listen(".App\\Events\\PostCreatedEvent",(function(e){t.livePost(e)}))}},computed:i()({},Object(g["d"])("auth",[])),mounted:function(){this.pusherData(),this.pusherData()}},I=P,L=(o("823c"),Object(C["a"])(I,n,a,!1,null,"6df091aa",null));e["default"]=L.exports},"823c":function(t,e,o){"use strict";o("83c9")},"83c9":function(t,e,o){}}]);